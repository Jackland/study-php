<script src="catalog/view/javascript/jquery/jquery-2.1.1.min.js" type="text/javascript"></script>
<link href="catalog/view/javascript/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen"/>
<script src="catalog/view/javascript/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<link href="catalog/view/javascript/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
<link href="catalog/view/theme/yzcTheme/stylesheet/font_demo/iconfont.css" rel="stylesheet" type="text/css"/>
<link href="catalog/view/theme/yzcTheme/stylesheet/fonts.googleapis.com_open+sans.css" rel="stylesheet"
      type="text/css"/>
<link type="text/css" href="/public/fonts/giga/iconfont.css?v={{ app_version }}" rel="stylesheet">{#B2B页面改版 图标字体#}
<link type="text/css" href="//at.alicdn.com/t/font_1474765_75h3uf0o4yb.css" rel="stylesheet">{#gigq图标字体 更新后删除#}
<link href="catalog/view/theme/yzcTheme/stylesheet/stylesheet.css" rel="stylesheet">
<link rel="icon" href="data:;base64,=">


<link href="catalog/view/javascript/diyUpload/file_upload/css/iconfont.css" rel="stylesheet" type="text/css"/>
<link href="catalog/view/javascript/diyUpload/file_upload/css/fileUpload.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="catalog/view/javascript/diyUpload/file_upload/js/fileUploadWalmart.js"></script>
<link href="catalog/view/theme/yzcTheme/stylesheet/account/pickUpStyle.css" rel="stylesheet" type="text/css"/>
<link href="catalog/view/theme/yzcTheme/stylesheet/account/otherFileUpload.css" rel="stylesheet" type="text/css"/>
<style>
    body{
        min-width:auto !important;
        width: 100% !important;
    }
    .modal-body{
        padding: 10px 15px
    }
    .vertical-align-t{
      vertical-align: text-top;
    }
</style>
<form enctype="multipart/form-data" id="form-upload">
    <div class="modal-body">
        <div class="user-notice">
            <i class="fa fa-info-circle text-warning mr-04"></i>User Notice
            <a class="btn pull-right p-0" id="iconSwitch" role="button" data-toggle="collapse" href="#collapseExample"
               aria-expanded="false"
               aria-controls="collapseExample">
                <i class="giga icon-icon-GIS_shouqi--copy text-warning text-size-normal"></i>
            </a>
            <div class="collapse" id="collapseExample">
                <div class="well">
                    <ul>
                        <li> System only support 4"x6" (102mmx152mm) Thermal label format.</li>
                        <li style="padding-right: 5px"> Small Parcel shipment must upload shipping label and fill in the tracking number.
                            LTL shipment can upload shipping label or packing slip.
                            The packing slip is for information verification purposes only and will not be attached to the package.
                            A separate packing label will be generated by the system and pasted on the package.
                        </li>
                        <li>
                            If the product is a combo product, please upload the shipping label or packing slip for each sub-item.
                        </li>
                        <li>
                          Giga Cloud does not accept FedEx Express Overnight labels. Related service types include, but are not limited to: FedEx First Overnight, FedEx Priority Overnight, FedEx Standard Overnight etc.
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="order-list mt-1 text-smaller">
            {% for order in upload_file_info %}

                <div class="order-detail">
                    <div class="flex-layout order-msg height40 background-blue">
                        <div class="order-type mr-2 text-small ml-4">{{ order.orders_from }}</div>
                        <div class="orderId">
                            <span class="text-light">Sales Order ID: {{ order.order_id }}</span>
                            <span id="{{ order.id }}_span"
                                  class="">({{ order.total_file_amount }}/{{ order.total_file_amount }})</span>
                        </div>

                        {% if order.bol_flag==1 %}
                            <div class="flex-layout">
                                <span>BOL: </span>
                                <div class="upload-fileName" style=""
                                     id="{{ order.id }}_bol_show">
                                    <a href="{{ order.bol_path }}" target="_blank"
                                       title="{{ order.bol_file_name }}">{{ order.bol_file_name }}</a>
                                </div>
                            </div>
                        {% endif %}
                    </div>

                    {% for children in order.childrenList %}
                        {% if children.is_combo %}{#combol商品#}

                            <div class="item-list mt-02">
                                <div class="flex-layout item-detail background-warn height40 pl-4">
                                    <div class="item-code">
                                        Item Code: {{ children.item_code }}
                                        <img data-toggle="tooltip" class="{{ comboTag.class_style }} vertical-align-t" title="{{ comboTag.description }}"  src="/image/{{ comboTag.icon }}" >
                                    </div>
                                    <div class="notes-qty">QTY: {{ children.qty }}</div>
                                    <div class="ship-method">Ship Method: {{ children.ship_method }}</div>
                                    <div class="carrier">Carrier: {{ children.carrier }}</div>
                                </div>

                                {% for detail in children.combo_info %}
                                    <div class="item-detail-list mt-02">
                                        <div class="flex-layout item-detail background-warn height40 pl-4">
                                            <div class="sub-code">Sub-item Code: {{ detail.sku }}</div>
                                            <div class="notes-qty">QTY: {{ detail.qty }}</div>
                                        </div>
                                        <div class="upload-list">
                                            <div class="upload-select">
                                                {% for line in detail.line %}
                                                    {% if line.label_type == 1 %}
                                                        <div class="upload-normal{{ line.sort_key }}">
                                                            <div class="upload-detail flex-layout height40 flex-between">
                                                                <div class="flex-layout">
                                                                    <div class="list-num">{{ line.sort_key }}</div>
                                                                    <div class="flex-layout upload-file">
                                                                        <span>Shipping Label: </span>
                                                                        <div class="pendingFileName"
                                                                             style="float: left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"
                                                                             id="{{ line.container_id }}_pdf_show">
                                                                            <a style=""
                                                                               onclick="getCommonLabelPdf(this)"
                                                                               title="{{ line.file_name }}"
                                                                               mean="{{ line.deal_file_path }}">{{ line.file_name }}</a>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                {% if line.tracking_id %}
                                                                    <div class="flex-layout tracking-300">
                                                                        <span>Tracking Number:&nbsp;&nbsp; </span>
                                                                        <span class="show-tracking"> {{ line.tracking_id }} </span>
                                                                    </div>
                                                                {% endif %}

                                                            </div>
                                                        </div>
                                                    {% else %}
                                                        <div class="upload-normal{{ line.sort_key }}">
                                                            <div class="upload-detail flex-layout height40 flex-between">
                                                                <div class="flex-layout">
                                                                    <div class="list-num">{{ line.sort_key }}</div>
                                                                    <div class="flex-layout upload-file">
                                                                        <span>Packing Slip: </span>
                                                                        <div class="pendingFileName"
                                                                             style="float: left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"
                                                                             id="{{ line.container_id }}_pdf_show">
                                                                            <a style=""
                                                                               onclick="getCommonLabelPdf(this)"
                                                                               title="{{ line.file_name }}"
                                                                               mean="{{ line.deal_file_path }}">{{ line.file_name }}</a>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                {% if line.tracking_id %}
                                                                    <div class="flex-layout tracking-300">
                                                                        <span>Tracking Number:&nbsp;&nbsp; </span>
                                                                        <span class="show-tracking"> {{ line.tracking_id }} </span>
                                                                    </div>
                                                                {% endif %}

                                                            </div>
                                                        </div>
                                                    {% endif %}
                                                {% endfor %}
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}
                            </div>
                        {% else %}{#非combol商品#}
                            <div class="item-list mt-02">
                                <div class="flex-layout item-detail background-warn height40 pl-4">
                                    <div class="item-code">Item Code: {{ children.item_code }}</div>
                                    <div class="notes-qty">QTY: {{ children.qty }}</div>
                                    <div class="ship-method">Ship Method: {{ children.ship_method }}</div>
                                    <div class="carrier">Carrier: {{ children.carrier }}</div>
                                </div>
                                <div class="item-detail-list mt-02">
                                    <div class="upload-list">
                                        <div class="upload-select">
                                            {% for detail in children.combo_info %}
                                                {% if detail.label_type == 1 %}
                                                    <div class="upload-normal">
                                                        <div class="upload-detail flex-layout height40 flex-between">
                                                            <div class="flex-layout">
                                                                <div class="list-num">{{ detail.sort_key }}</div>
                                                                <div class="flex-layout upload-file">
                                                                    <span>Shipping Label: </span>
                                                                    <div class="pendingFileName"
                                                                         style="float: left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"
                                                                         id="{{ detail.container_id }}_pdf_show">
                                                                        <a style=""
                                                                           onclick="getCommonLabelPdf(this)"
                                                                           title="{{ detail.file_name }}"
                                                                           mean="{{ detail.deal_file_path }}">{{ detail.file_name }}</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            {% if detail.tracking_id %}
                                                              <div class="flex-layout tracking-300">
                                                                  <span>Tracking Number: &nbsp;&nbsp;</span>
                                                                  <span class="show-tracking"> {{ detail.tracking_id }} </span>
                                                              </div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                {% else %}
                                                    <div class="upload-normal">
                                                        <div class="upload-detail flex-layout height40 flex-between">
                                                            <div class="flex-layout">
                                                                <div class="list-num">{{ detail.sort_key }}</div>
                                                                <div class="flex-layout upload-file">
                                                                    <span>Packing Slip: </span>
                                                                    <div class="pendingFileName"
                                                                         style="float: left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"
                                                                         id="{{ detail.container_id }}_pdf_show">
                                                                        <a style=""
                                                                           onclick="getCommonLabelPdf(this)"
                                                                           title="{{ detail.file_name }}"
                                                                           mean="{{ detail.deal_file_path }}">{{ detail.file_name }}</a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            {% if detail.tracking_id %}
                                                              <div class="flex-layout tracking-300">
                                                                  <span>Tracking Number:&nbsp;&nbsp; </span>
                                                                  <span class="show-tracking"> {{ detail.tracking_id }} </span>
                                                              </div>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}

                </div>
            {% endfor %}
        </div>
    </div>
</form>

<script>
    /**
     * 预览label
     * @param obj
     */
    function getCommonLabelPdf(obj) {
        var url = $(obj).attr('mean');
        var upload_info = 'Common Label';
        parent.layer.open({
            type: 2,
            offset: ['150px', '380px'],
            area: ['700px', '400px'],
            title: upload_info,
            fixed: false, //不固定Change
            maxmin: true,
            skin: 'yzc_layer',
            scrollbar: false,
            content: url,

        });
    }

    $("#iconSwitch").on('click', function () {
        var $giga = $(this).children('.giga');
        if ($giga.hasClass('icon-icon-GIS_shouqi-')) {
            $giga.removeClass('icon-icon-GIS_shouqi-').addClass('icon-icon-GIS_shouqi--copy')
        } else {
            $giga.removeClass('icon-icon-GIS_shouqi--copy').addClass('icon-icon-GIS_shouqi-')
        }
    })
</script>

