{{ header }}
{{ assetBundle('Seller\\VatAsset') }}
{{ separate_column_left }}
<style>
    .detail-main {
        overflow: hidden;
        border-radius: 4px;
        border: 1px solid #c4cad5;
        box-shadow: 0px 4px 10px 2px #c4cad5;
        margin-bottom: 40px;
    }

    .over {
        overflow: hidden;
    }

    .mb-3 {
        margin-bottom: 30px;
    }

    .title {
        font-size: 16px;
        color: #183464;
        margin-bottom: 20px;
        font-weight: bolder;
    }

    .abstract {
        border-right: 1px solid #eee;
        text-align: center;
        color: #677999;
    }

    .abstract:last-child {
        border: none;
    }

    .abstract p {
        margin: 0;
    }

    .details .row {
        margin: 0 30px;
        border-bottom: 1px solid #eee;
        /*padding: 10px 0;*/
    }
    .details .row > div{
        display: flex;
        height:45px ;
        align-items: center;
    }

    .detail-name {
        width: 220px;
        display: inline-block;
        margin-right: 15px;
        color: #677999;
    }
    .detail-content{
        color: #183464;
        font-weight: bold;
    }


    .remarks {
        border: 1px solid #eee;
        border-radius: 8px;
        padding: 10px 5px;
        margin: 10px 0;
    }

    .count-str {
        position: absolute;
        right: 5px;
        bottom: 0px;
        color: #1e91cf
    }
    a.link{
        color: #3a75dc;
    }
    a.link：hover{
        text-decoration: underline;
    }
    .table thead td{
        font-weight: initial;
    }
    .summary-icon {
        color: #183464;
        font-size: 20px;
    }

    .summary-name {
        color: #677999;
    }
    .summary-detail{
        color: #7F7F7F;
    }
    .summary{
        display: flex;
        align-items: center;
    }
    .yzc_layer .layui-layer-ico{
      background: none;
    }
    .yzc_layer .layui-layer-close.layui-layer-close1:after{
      content: "\e6b4";
      font-family: 'giga';
      color: #fff;
      font-weight: bold;
      font-size: 16px;
    }
    .yzc_layer .layui-layer-btn .layui-layer-btn0{
        border-color: #3A75DC;
        background-color: #3A75DC;
    }
    .yzc_layer .layui-layer-btn .layui-layer-btn0:hover{
        background-color: #2d57a9;
        opacity: 1;
    }
    .yzc_layer .layui-layer-btn .layui-layer-btn1{
        color: #3A75DC;
    }
    .yzc_layer .layui-layer-btn .layui-layer-btn1:hover{
        background-color: #3A75DC;
        color: #fff;
        opacity: 1;
    }
    .yzc_layer .layui-layer-content{
      text-align: left;
    }
    .cansub.btn.btn-primary{
        height: 40px;
        line-height: 38px;
        color: #fff;
        padding: 0 13px;
    }
    .btn.btn-primary:hover{
        background-color: #2d57a9;
    }
    .over-visible {
        overflow: visible !important;
    }
</style>
<script type="text/javascript" src="/catalog/view/javascript/bootstrap/js/bootstrap-paginator.min.js"></script>
<link href="/catalog/view/javascript/datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet"
      media="screen">
<link href="/catalog/view/javascript/user_portrait/user_portrait.css" rel="stylesheet" media="screen">
<script type="text/javascript" src="/catalog/view/javascript/datetimepicker/bootstrap-datetimepicker.min.js"
        charset="UTF-8"></script>
<script type="text/javascript" src="catalog/view/javascript/user_portrait/user_portrait.js?v={{ app_version }}" charset="UTF-8"></script>
<div class="container-fluid" id="content" style="margin-left: 15%">
    <ul class="breadcrumb">
        {% for breadcrumb in breadcrumbs %}
            <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
        {% endfor %}
    </ul>

    <h1>Future Goods Details of {{ agreement.agreement_no }}</h1>

    <!-- Nav tabs -->
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#agreement" aria-controls="home" role="tab" data-toggle="tab">Future Goods Agreement</a>
        </li>
        {% if agreement.agreement_status == 7 %}
          <li role="presentation"><a href="#bail" aria-controls="profile" role="tab" data-toggle="tab">Future Goods Deposit</a></li>
          <li role="presentation"><a href="#warehousing" aria-controls="messages" role="tab" data-toggle="tab">Warehouse Arrival</a></li>
        {% endif %}
        {% if agreement.delivery_status in [4,6,8] %}
          <li role="presentation"><a href="#delivery" aria-controls="settings" role="tab" data-toggle="tab">Settlement</a></li>
        {% endif %}

    </ul>

    <!-- Tab panes -->
    <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="agreement">
            <div id="futuresAgreementDetailPanel"></div>
        </div>
        {% if agreement.agreement_status == 7 %}
          <div role="tabpanel" class="tab-pane" id="bail">
              <div id="futuresDepositOrderDetail">
              </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="warehousing">
            <div id="futuresTransactionModeDetail">
            </div>
          </div>
        {% endif %}
        {% if agreement.delivery_status in [4,6,8] %}
          <div role="tabpanel" class="tab-pane" id="delivery">
            <div id="futuresPurchaseRecordDetail">
            </div>
          </div>
        {% endif %}
    </div>

</div>

<input type="hidden" id="agreement_id" value="{{ agreement.id }}">
{{ footer }}

<script>
    let query = '';
    query += '&id=' + '{{ id }}';
    $('#futuresAgreementDetailPanel').load('index.php?route=account/product_quotes/futures/sellerFuturesAgreementDetail' + query);
    {% if agreement.agreement_status == 7 %}
      $('#futuresDepositOrderDetail').load('index.php?route=account/product_quotes/futures/sellerFuturesDepositOrderDetail' + query);
      $('#futuresTransactionModeDetail').load('index.php?route=account/product_quotes/futures/sellerFuturesTransactionModeDetail' + query);
    {% endif %}
    {% if agreement.delivery_status in [4,6,8] %}
      $('#futuresPurchaseRecordDetail').load('index.php?route=account/product_quotes/futures/sellerFuturesPurchaseRecordDetail' + query);
    {% endif %}
    //封装一个限制字数方法
    var checkStrLengths = function (str, maxLength) {
        var maxLength = maxLength;
        var result = 0;
        result = str.length;
        return result;
    };
</script>

