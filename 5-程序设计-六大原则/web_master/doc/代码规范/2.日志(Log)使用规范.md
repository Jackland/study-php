# 日志(Log)使用规范

## 错误使用以及原因

1. 直接 new Log 写入日志的（无法统一管理）

2. 直接 file_put_content 写入日志的（无法统一管理）

3. 把非必须日志写入到数据库的（浪费资源，效率低下，后期可能造成数据库效率低下）

4. 日志不分类，一股脑全部扔进 app 下（排查日志极其费劲）

## 应该记录哪些日志

1. 重要流程模块的，比如下单、支付等

2. 与第三方对接的，必须记录发出的数据和响应的数据（可以根据实际情况，比如接口调用极其
频繁的，可以忽略正常响应，仅记录错误响应）

3. try catch 之后需要忽略一些异常的，必须记录日志，否则请 catch 之后对特定异常进行处理

## 应该怎么记录日志

1. 使用标准接口，而非随意使用 file_put_content 等方法写入文件或数据库，详见 【框架使用/日志-Log】

2. 统一日志的入口，比如接口对接时，封装一层 api 方法，用于处理请求的发出和接收，在该方法中记录全量的
请求进出日志
