# 唯一值生成器-UniqueGenerator

用于生成系统中ID或订单号等序列值

## 说明

```php
use App\Components\UniqueGenerator;
use App\Components\UniqueGenerator\Enums\ServiceEnum;

// 全局生成器
UniqueGenerator::global() // 全局
    ->service(ServiceEnum::USER_NUMBER) // 业务，必须
    ->prefix('PX') // 前缀，默认为 ''
    ->digit(6) // 位数，默认为 6
    ->randomFirstNoZero() // 首位不为0，默认可以为 0
    ->checkDatabase() // 检查数据库是否存在，全局生成器固定检查
    ->random(); // 随机

// 按日生成器
UniqueGenerator::date() // 按日
    ->service(ServiceEnum::USER_NUMBER) // 业务，必须
    ->prefix('PX') // 前缀，默认为 ''
    ->digit(6) // 位数，默认为 6
    ->randomFirstNoZero() // 首位不为0，默认可以为 0
    ->fullYear() // 使用 4 位年，默认为 2 位
    ->country(222) // 指定国别，默认生成的年月日为当前国别（session('country')）
    ->checkDatabase() // 检查数据库是否存在，按日生成器一般不需要检查存在
    ->random(); // 随机
    //->increase(); // 递增
```

## 举例使用

```php
use App\Components\UniqueGenerator;
use App\Components\UniqueGenerator\Enums\ServiceEnum;

// customer user_number：首位不为0的随机数8位
$userNumber = UniqueGenerator::global()
    ->service(ServiceEnum::USER_NUMBER)
    ->randomFirstNoZero()
    ->digit(8)
    ->random();

// margin agreement_id：年月日（YYYYMMDD）+6位随机 
$agreementID = UniqueGenerator::date()
    ->service(ServiceEnum::MARGIN_AGREEMENT_ID)
    ->fullYear()
    ->random();

// rebate agreement_id：年月日（YYYYMMDD）+6位递增
$agreementID = UniqueGenerator::date()
    ->service(ServiceEnum::REBATE_AGREEMENT_ID)
    ->fullYear()
    ->increase();

// RMA ID：年月日（YYYYMMDD）+4位递增
$rmaID = UniqueGenerator::date()
    ->service(ServiceEnum::RMA_ID)
    ->fullYear()
    ->digit(4)
    ->increase();

// 费用单-仓租：ST(仓租)+2位年+月日（YYMMDD）+6位随机
$storageFeeId = UniqueGenerator::date()
    ->service(ServiceEnum::FEE_ORDER_STORAGE)
    ->prefix('ST')
    ->random();
```