# 前端代码库分离-yzc_front

[YZC 项目前后端分离方案](https://ones.ai/wiki/#/team/8wP6mUy7/space/4RVKd1Ed/page/6RjMdZWv)

[symfony/webpack-encore](https://github.com/symfony/webpack-encore): 前端 webpack 拆分的 webpack 简化 api

[symfony/webpack-encore-bundle](https://github.com/symfony/webpack-encore-bundle): 参考实现的适用于 yzc 项目的 webpack_encore 引入

## 大致流程思路

1. 路由任然使用 php 的路由，yzc_front 负责写前端代码
2. yzc_front 编译代码放到 yzc 目录下（public/assets/dist/）
3. yzc_front 编译后的内容中包含一个 `entrypoints.json` 的文件
4. yzc 中使用 `{{ webpack_entry_asset('entryName') }}` 引入前端资源
5. 如果纯 vue 的项目，yzc 中不用处理其他，非 vue 的，在 yzc 下写相关 html

其中 `webpack_entry_asset` 是通过 `entryName` 这个名字从 `entrypoints.json` 找到的前端 js/css

`entryName` 一般同 yzc 这边的路由地址

## 其他

- 目前 `make:controller` 已经调整为默认创建 yzc_front 模式的代码
- 具体 yzc_front 的情况可以查看 yzc_front 项目下的 doc

## 后续思路

- yzc_front 可以编译发布到 cdn（或独立部署），然后只需要 `entrypoints.json` 调整为 cdn 的路由就可以 [参考](https://symfony.com/doc/current/frontend/encore/cdn.html)
