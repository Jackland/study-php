# Command 命令脚本

## 使用

在项目根目录执行

```bash
php console xxx
```

## 已有命令介绍

### `php console` 或 `php console list`

列出所有可用命令


### `php console help {command}`

显示 {command} 命令的帮助信息


### `php console make:model {tableName}`

创建 Model

举例:

- `php console make:model oc_order` 将建立 src/Models/Order 模型

- `php console make:model oc_order --relativePath order` 将建立 src/Models/Order/Order 模型 【建议用法】

- `php console make:model oc_order --relativePath order -rs` 将建立 src/Models/Order/Order 模型
，并创建 src/Repositories/Order/OrderRepository（-r条件） 和 src/Services/Order/OrderService（-s条件）【建议用法】


### `php console make:repository {className}`

创建 Repository

- `php console make:repository order/order` 将建立 src/Repositories/Order/OrderRepository


### `php console make:service {className}`

创建 Service

- `php console make:service order/order` 将建立 src/Services/Order/OrderService


### `php console make:controller {path}`

创建 Controller

- `php console make:controller account/fee_order` 将建立 catalog/controller/account/fee_order/index.php

- `php console make:controller account/fee_order --action index --action detail` 将
建立 catalog/controller/account/fee_order.php 并创建 index 和 detail 路由

- `php console make:controller account/fee_order --seller` 将
建立 catalog/controller/customerpartner/account/fee_order.php

- `php console make:controller account/fee_order --withView` 将
建立 catalog/controller/customerpartner/account/fee_order.php 和
catalog/view/theme/yzcTheme/template/account/fee_order/fee_order/index.twig


### `php console make:view {path}`

创建视图

- `php console make:view account/fee_order/index` 将
建立 catalog/view/theme/yzcTheme/template/account/fee_order/index.twig

- `php console make:view account/fee_order/index --seller` 将
建立 catalog/view/theme/yzcTheme/template/customerpartner/account/fee_order/index.twig


### `php console make:command {command}`

创建 Command

举例:
 
- `php console make:command test` 将建立 src/Commands/TestCommand 【建议用于建立测试命令】

- `php console make:command test:test2` 将建立 src/Commands/Test/Test2Command 【建议用法】


### `php console ide-help:models`

生成模型的相关注释 【本项目中一般选择yes就行】

举例:

- `php console ide-help:models` 全部更新

- `php console ide-help:models App\Models\Order` 指定更新某个模型【建议用法】


### `php console make:event`

创建事件

举例：

- `php console make:event test` 将建立 src/Listeners/Events/TestEvent


### `php console make:listener`

创建事件监听器

举例：

- `php console make:listener test` 将建立 src/Listeners/TestListener


### `php console make:subscriber`

创建事件订阅器

举例：

- `php console make:subscriber test` 将建立 src/Listeners/TestEventSubscriber


### `php console make:widget`

创建视图组件

举例：

- `php console make:widget test` 将建立 src/Widgets/TestWidget

- `php console make:widget test --withView` 将建立 src/Widgets/TestWidget 和 resources/views/widgets/test

## 其他命令扩展说明

1. 本项目一般命令全部在 src/Commands 下，建议按照功能区分目录，最好按照命令格式分目录，比如命令为 aa:bb，则目录
为 src/CommandsAa/BbCommand 【可以通过 make:command 自动创建】

2. 可以通过 `php console make:command test` 建立一个用于快速测试的命令行用于测试（TestCommand 已经强制忽略不上传 git）

3. 当 Command 继承 `Illuminate\Console\Command`（默认） 时可以使用 Laravel Artisan 的形式配置脚本参数；
当 Command 继承 `Framework\Console\Command` 时使用 Symfony 形式配置参数。

## 参考

- [Symfony Console](https://symfony.com/doc/4.4/components/console.html)

- [Laravel Artisan](https://learnku.com/docs/laravel/5.8/artisan/3913)